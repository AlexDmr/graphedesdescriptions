#___________________________________________________________________________________________________________________________________________
#___________________________________________________________________________________________________________________________________________
#___________________________________________________________________________________________________________________________________________
inherit CometGDDVisu_CFC CommonFC

#___________________________________________________________________________________________________________________________________________
method CometGDDVisu_CFC constructor {{mark 0}} {
 set this(root)   {}
 set this(last_compute) {}
 set this(gv_gdd) "${objName}_gv"
   GraphComet $this(gv_gdd)
   $this(gv_gdd) set_js_fct "Click_on_GDD"
}

#___________________________________________________________________________________________________________________________________________
method CometGDDVisu_CFC destructor {} {
 foreach t $this(L_types) {$t dispose}
 this inherited
}

#___________________________________________________________________________________________________________________________________________
method CometGDDVisu_CFC Compute {f_name m} {
 if {[string equal $m $this(last_compute)]} {return}
 set this(last_compute) $m
 $this(gv_gdd) GDD_to_dot IS_root $f_name
}

#___________________________________________________________________________________________________________________________________________
Generate_accessors CometGDDVisu_CFC [list root gv_gdd]

#________________________________________________________________________________________________________________________________________
proc L_methodes_get_GDDVisu {} {return [list {get_root { }} {get_gv_gdd { }}     ] }
proc L_methodes_set_GDDVisu {} {return [list {set_root {d}} {Compute {f_name m}} ] }

